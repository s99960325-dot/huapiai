import{d as M,u as R,m as _,w as o,r as t,o as u,a as e,i as c,c as I,n as L,F as N,h as i,p as S,q as T,E as f,b as V,s as P,t as U,v as q,_ as z}from"./index-cIS50Myt.js";const K={class:"logo"},$={class:"header-right"},j={class:"user-info"},G=M({__name:"MainLayout",setup(H){const w=P(),h=V(),g=R(),v=S(()=>{var a,n;return((n=(a=w.matched[0])==null?void 0:a.children)==null?void 0:n.map(l=>{var s,r;return{path:"/"+l.path,title:((s=l.meta)==null?void 0:s.title)||l.name,icon:(r=l.meta)==null?void 0:r.icon}}))||[]}),x=async a=>{if(a==="logout")try{await T.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),g.logout(),h.push("/login"),f.success("已退出登录")}catch{}else a==="changePassword"&&f.info("修改密码功能开发中")};return(a,n)=>{const l=t("ChatDotRound"),s=t("el-icon"),r=t("el-menu-item"),y=t("el-menu"),C=t("el-aside"),B=t("User"),D=t("ArrowDown"),m=t("el-dropdown-item"),b=t("el-dropdown-menu"),k=t("el-dropdown"),E=t("el-header"),A=t("router-view"),F=t("el-main"),p=t("el-container");return u(),_(p,{class:"main-layout"},{default:o(()=>[e(C,{width:"220px",class:"sidebar"},{default:o(()=>[c("div",K,[e(s,{size:"32"},{default:o(()=>[e(l)]),_:1}),n[0]||(n[0]=c("span",{class:"title"},"Kirara AI",-1))]),e(y,{"default-active":a.$route.path,router:"",class:"menu","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},{default:o(()=>[(u(!0),I(N,null,L(v.value,d=>(u(),_(r,{key:d.path,index:d.path},{default:o(()=>[e(s,null,{default:o(()=>[(u(),_(U(d.icon)))]),_:2},1024),c("span",null,q(d.title),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),_:1}),e(p,null,{default:o(()=>[e(E,{class:"header"},{default:o(()=>[c("div",$,[e(k,{onCommand:x},{dropdown:o(()=>[e(b,null,{default:o(()=>[e(m,{command:"changePassword"},{default:o(()=>[...n[2]||(n[2]=[i("修改密码",-1)])]),_:1}),e(m,{divided:"",command:"logout"},{default:o(()=>[...n[3]||(n[3]=[i("退出登录",-1)])]),_:1})]),_:1})]),default:o(()=>[c("span",j,[e(s,null,{default:o(()=>[e(B)]),_:1}),n[1]||(n[1]=i(" 管理员 ",-1)),e(s,{class:"el-icon--right"},{default:o(()=>[e(D)]),_:1})])]),_:1})])]),_:1}),e(F,{class:"main-content"},{default:o(()=>[e(A)]),_:1})]),_:1})]),_:1})}}}),O=z(G,[["__scopeId","data-v-af122e27"]]);export{O as default};
