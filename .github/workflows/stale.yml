name: å¤„ç†ä¸æ´»è·ƒçš„ Issue å’Œ PR

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤©åˆå¤œè¿è¡Œ

permissions:
  contents: write # only for delete-branch option
  issues: write
  pull-requests: write
  
jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v8
        with:
          # åŸºæœ¬é…ç½®
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          days-before-stale: 60  # 60å¤©ä¸æ´»è·ƒæ ‡è®°ä¸º stale
          days-before-close: 14  # æ ‡è®°ä¸º stale å14å¤©å…³é—­
          
          # å‹å¥½çš„æç¤ºä¿¡æ¯
          stale-issue-message: >
            ğŸ‘‹ æ‚¨å¥½ï¼è¿™ä¸ª issue å·²ç» 60 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            ä¸ºäº†ä¿æŒæˆ‘ä»¬çš„ issue åˆ—è¡¨æ•´æ´ï¼Œæˆ‘ä»¬ä¼šæ ‡è®°é•¿æ—¶é—´ä¸æ´»è·ƒçš„ issueã€‚
            å¦‚æœæ‚¨è®¤ä¸ºè¿™ä¸ª issue ä»ç„¶é‡è¦ä¸”æœ‰æ•ˆï¼Œè¯·ç•™ä¸‹è¯„è®ºæˆ–ç§»é™¤ "stale" æ ‡ç­¾ï¼Œ
            å¦åˆ™å®ƒå°†åœ¨ 14 å¤©åè‡ªåŠ¨å…³é—­ã€‚
            
            æ„Ÿè°¢æ‚¨çš„ç†è§£å’Œè´¡çŒ®ï¼
          
          stale-pr-message: >
            ğŸ‘‹ æ‚¨å¥½ï¼è¿™ä¸ª PR å·²ç» 60 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            ä¸ºäº†ä¿æŒæˆ‘ä»¬çš„ PR åˆ—è¡¨æ•´æ´ï¼Œæˆ‘ä»¬ä¼šæ ‡è®°é•¿æ—¶é—´ä¸æ´»è·ƒçš„ PRã€‚
            å¦‚æœæ‚¨ä»åœ¨å¤„ç†è¿™ä¸ª PRï¼Œè¯·ç•™ä¸‹è¯„è®ºæˆ–ç§»é™¤ "stale" æ ‡ç­¾ï¼Œ
            å¦åˆ™å®ƒå°†åœ¨ 14 å¤©åè‡ªåŠ¨å…³é—­ã€‚
            
            å¦‚æœæ‚¨éœ€è¦å¸®åŠ©å®Œæˆè¿™ä¸ª PRï¼Œè¯·å‘Šè¯‰æˆ‘ä»¬ï¼
            
            æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼
          
          close-issue-message: >
            ğŸ™ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œæˆ‘ä»¬æš‚æ—¶å…³é—­äº†è¿™ä¸ª issueã€‚
            
            å¦‚æœæ‚¨è®¤ä¸ºè¿™ä¸ªé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·éšæ—¶é‡æ–°æ‰“å¼€æˆ–åˆ›å»ºæ–°çš„ issueã€‚
            
            è°¢è°¢ï¼
          
          close-pr-message: >
            ğŸ™ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œæˆ‘ä»¬æš‚æ—¶å…³é—­äº†è¿™ä¸ª PRã€‚
            
            å¦‚æœæ‚¨æƒ³ç»§ç»­è¿™é¡¹å·¥ä½œï¼Œè¯·éšæ—¶é‡æ–°æ‰“å¼€æˆ–åˆ›å»ºæ–°çš„ PRã€‚
            
            æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼
          
          # æ’é™¤æŸäº›æ ‡ç­¾çš„ issue/PR
          exempt-issue-labels: 'planned,documentation,long-term-task'
          exempt-pr-labels: 'WIP,waiting-for-review,long-term-task'
          
          # åªå¤„ç†æŸäº›æ ‡ç­¾çš„ issue/PRï¼ˆå¯é€‰ï¼‰
          # only-labels: ''
          
          # å…¶ä»–é€‰é¡¹
          operations-per-run: 100  # æ¯æ¬¡è¿è¡Œå¤„ç†çš„æœ€å¤§æ•°é‡
          remove-stale-when-updated: true  # å½“æ›´æ–°æ—¶ç§»é™¤ stale æ ‡ç­¾
          ascending: true  # ä»æœ€è€çš„å¼€å§‹å¤„ç†
